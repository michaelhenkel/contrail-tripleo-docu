
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Templates &#8212; Contrail Tripleo queens documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Advanced vRouter Kernel Mode Configurations" href="advanced/vrouter.html" />
    <link rel="prev" title="Configuration" href="configuration.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="templates">
<h1><a class="toc-backref" href="#id4">Templates</a><a class="headerlink" href="#templates" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#templates" id="id4">Templates</a><ul>
<li><a class="reference internal" href="#contrail-services-customization" id="id5">Contrail Services customization</a></li>
<li><a class="reference internal" href="#contrail-registry-settings" id="id6">Contrail registry settings</a></li>
<li><a class="reference internal" href="#contrail-container-image-settings" id="id7">Contrail container image settings</a></li>
<li><a class="reference internal" href="#network-customization" id="id8">Network customization</a><ul>
<li><a class="reference internal" href="#network-activation-in-roles-data" id="id9">Network activation in roles_data</a><ul>
<li><a class="reference internal" href="#openstack-controller" id="id10">OpenStack Controller</a></li>
<li><a class="reference internal" href="#compute-node" id="id11">Compute Node</a></li>
<li><a class="reference internal" href="#contrail-controller" id="id12">Contrail Controller</a></li>
<li><a class="reference internal" href="#compute-dpdk" id="id13">Compute DPDK</a></li>
<li><a class="reference internal" href="#compute-sriov" id="id14">Compute SRIOV</a></li>
<li><a class="reference internal" href="#compute-csn" id="id15">Compute CSN</a></li>
</ul>
</li>
<li><a class="reference internal" href="#network-parameter-configuration" id="id16">Network parameter configuration</a></li>
<li><a class="reference internal" href="#network-interface-configuration" id="id17">Network interface configuration</a><ul>
<li><a class="reference internal" href="#id1" id="id18">OpenStack Controller</a></li>
<li><a class="reference internal" href="#id2" id="id19">Contrail Controller</a></li>
<li><a class="reference internal" href="#id3" id="id20">Compute Node</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-network-configuration" id="id21">Advanced Network Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-scenarios" id="id22">Advanced scenarios</a></li>
</ul>
</li>
</ul>
</div>
<p>The customization of the Overcloud is done in a set of different yaml templates</p>
<div class="section" id="contrail-services-customization">
<h2><a class="toc-backref" href="#id5">Contrail Services customization</a><a class="headerlink" href="#contrail-services-customization" title="Permalink to this headline">¶</a></h2>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vi</span> <span class="o">~/</span><span class="n">tripleo</span><span class="o">-</span><span class="n">heat</span><span class="o">-</span><span class="n">templates</span><span class="o">/</span><span class="n">environments</span><span class="o">/</span><span class="n">contrail</span><span class="o">-</span><span class="n">services</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">parameter_defaults</span><span class="p">:</span>
  <span class="n">ContrailSettings</span><span class="p">:</span>
    <span class="n">VROUTER_GATEWAY</span><span class="p">:</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.1</span>
    <span class="c1"># KEY1: value1</span>
    <span class="c1"># KEY2: value2</span>
</pre></div>
</div>
</div>
<div class="section" id="contrail-registry-settings">
<h2><a class="toc-backref" href="#id6">Contrail registry settings</a><a class="headerlink" href="#contrail-registry-settings" title="Permalink to this headline">¶</a></h2>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vi</span> <span class="o">~/</span><span class="n">tripleo</span><span class="o">-</span><span class="n">heat</span><span class="o">-</span><span class="n">templates</span><span class="o">/</span><span class="n">environments</span><span class="o">/</span><span class="n">contrail</span><span class="o">-</span><span class="n">services</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
<div class="red admonition">
<p class="first admonition-title">Public Juniper registry</p>
<blockquote class="last">
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">parameter_defaults</span><span class="p">:</span>
  <span class="n">ContrailRegistry</span><span class="p">:</span> <span class="n">hub</span><span class="o">.</span><span class="n">juniper</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">contrail</span>
  <span class="n">ContrailRegistryUser</span><span class="p">:</span> <span class="n">YOURUSER</span>
  <span class="n">ContrailRegistryPassword</span><span class="p">:</span> <span class="n">YOURPASSWORD</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="green admonition">
<p class="first admonition-title">Insecure registry</p>
<blockquote class="last">
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">parameter_defaults</span><span class="p">:</span>
  <span class="n">ContrailRegistryInsecure</span><span class="p">:</span> <span class="n">true</span>
  <span class="n">DockerInsecureRegistryAddress</span><span class="p">:</span> <span class="mf">10.87</span><span class="o">.</span><span class="mf">64.32</span><span class="p">:</span><span class="mi">5000</span><span class="p">,</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">24.1</span><span class="p">:</span><span class="mi">8787</span>
  <span class="n">ContrailRegistry</span><span class="p">:</span> <span class="mf">10.87</span><span class="o">.</span><span class="mf">64.32</span><span class="p">:</span><span class="mi">5000</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="violet admonition">
<p class="first admonition-title">Private secure registry</p>
<blockquote class="last">
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">parameter_defaults</span><span class="p">:</span>
  <span class="n">ContrailRegistryCertUrl</span><span class="p">:</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">satellite</span><span class="o">.</span><span class="n">englab</span><span class="o">.</span><span class="n">juniper</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span><span class="n">satellite</span><span class="o">.</span><span class="n">englab</span><span class="o">.</span><span class="n">juniper</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">crt</span>
  <span class="n">ContrailRegistry</span><span class="p">:</span> <span class="n">satellite</span><span class="o">.</span><span class="n">englab</span><span class="o">.</span><span class="n">juniper</span><span class="o">.</span><span class="n">net</span><span class="p">:</span><span class="mi">5443</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="contrail-container-image-settings">
<h2><a class="toc-backref" href="#id7">Contrail container image settings</a><a class="headerlink" href="#contrail-container-image-settings" title="Permalink to this headline">¶</a></h2>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">parameter_defaults</span><span class="p">:</span>
  <span class="n">ContrailImageTag</span><span class="p">:</span> <span class="n">queens</span><span class="o">-</span><span class="mf">5.0</span><span class="o">-</span><span class="mi">104</span><span class="o">-</span><span class="n">rhel</span><span class="o">-</span><span class="n">queens</span>
</pre></div>
</div>
</div>
<div class="section" id="network-customization">
<h2><a class="toc-backref" href="#id8">Network customization</a><a class="headerlink" href="#network-customization" title="Permalink to this headline">¶</a></h2>
<p>The depency of the different network related files is shown here:</p>
<img alt="../_images/network_settings.png" src="../_images/network_settings.png" />
<p>In order to customize the network, different networks have to be defined and the
Overcloud nodes NIC layout has to be configured. Tripleo supports a flexible
way of customizing the network. In this example the following networks are used:</p>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="13%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Network</th>
<th class="head">Vlan</th>
<th class="head">Overcloud Nodes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>provisioning</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>All</td>
</tr>
<tr class="row-odd"><td>internal_api</td>
<td>710</td>
<td>All</td>
</tr>
<tr class="row-even"><td>external_api</td>
<td>720</td>
<td>OpenStack CTRL</td>
</tr>
<tr class="row-odd"><td>storage</td>
<td>740</td>
<td>OpenStack CTRL, Computes</td>
</tr>
<tr class="row-even"><td>storage_mgmt</td>
<td>750</td>
<td>OpenStack CTRL</td>
</tr>
<tr class="row-odd"><td>tenant</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>Contrail CTRL, Computes</td>
</tr>
</tbody>
</table>
<div class="section" id="network-activation-in-roles-data">
<h3><a class="toc-backref" href="#id9">Network activation in roles_data</a><a class="headerlink" href="#network-activation-in-roles-data" title="Permalink to this headline">¶</a></h3>
<p>The networks must be activated per role in the roles_data file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vi ~/tripleo-heat-templates/roles_data_contrail_aio.yaml
</pre></div>
</div>
<div class="section" id="openstack-controller">
<h4><a class="toc-backref" href="#id10">OpenStack Controller</a><a class="headerlink" href="#openstack-controller" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">###############################################################################</span>
<span class="c1"># Role: Controller                                                            #</span>
<span class="c1">###############################################################################</span>
- name: Controller
  description: <span class="p">|</span>
    Controller role that has all the controler services loaded and handles
    Database, Messaging and Network functions.
  CountDefault: <span class="m">1</span>
  tags:
    - primary
    - controller
  networks:
    - External
    - InternalApi
    - Storage
    - StorageMgmt
</pre></div>
</div>
</div>
<div class="section" id="compute-node">
<h4><a class="toc-backref" href="#id11">Compute Node</a><a class="headerlink" href="#compute-node" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">###############################################################################</span>
<span class="c1"># Role: Compute                                                               #</span>
<span class="c1">###############################################################################</span>
- name: Compute
  description: <span class="p">|</span>
    Basic Compute Node role
  CountDefault: <span class="m">1</span>
  networks:
    - InternalApi
    - Tenant
    - Storage
</pre></div>
</div>
</div>
<div class="section" id="contrail-controller">
<h4><a class="toc-backref" href="#id12">Contrail Controller</a><a class="headerlink" href="#contrail-controller" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">###############################################################################</span>
<span class="c1"># Role: ContrailController                                                    #</span>
<span class="c1">###############################################################################</span>
- name: ContrailController
  description: <span class="p">|</span>
    ContrailController role that has all the Contrail controler services loaded
    and handles config, control and webui functions
  CountDefault: <span class="m">1</span>
  tags:
    - primary
    - contrailcontroller
  networks:
    - InternalApi
    - Tenant
</pre></div>
</div>
</div>
<div class="section" id="compute-dpdk">
<h4><a class="toc-backref" href="#id13">Compute DPDK</a><a class="headerlink" href="#compute-dpdk" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">###############################################################################</span>
<span class="c1"># Role: ContrailDpdk                                                          #</span>
<span class="c1">###############################################################################</span>
- name: ContrailDpdk
  description: <span class="p">|</span>
    Contrail Dpdk Node role
  CountDefault: <span class="m">0</span>
  tags:
    - contraildpdk
  networks:
    - InternalApi
    - Tenant
    - Storage
</pre></div>
</div>
</div>
<div class="section" id="compute-sriov">
<h4><a class="toc-backref" href="#id14">Compute SRIOV</a><a class="headerlink" href="#compute-sriov" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">###############################################################################</span>
<span class="c1"># Role: ContrailSriov</span>
<span class="c1">###############################################################################</span>
- name: ContrailSriov
  description: <span class="p">|</span>
    Contrail Sriov Node role
  CountDefault: <span class="m">0</span>
  tags:
    - contrailsriov
  networks:
    - InternalApi
    - Tenant
    - Storage
</pre></div>
</div>
</div>
<div class="section" id="compute-csn">
<h4><a class="toc-backref" href="#id15">Compute CSN</a><a class="headerlink" href="#compute-csn" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">###############################################################################</span>
<span class="c1"># Role: ContrailTsn</span>
<span class="c1">###############################################################################</span>
- name: ContrailTsn
  description: <span class="p">|</span>
    Contrail Tsn Node role
  CountDefault: <span class="m">0</span>
  tags:
    - contrailtsn
  networks:
    - InternalApi
    - Tenant
    - Storage
</pre></div>
</div>
</div>
</div>
<div class="section" id="network-parameter-configuration">
<h3><a class="toc-backref" href="#id16">Network parameter configuration</a><a class="headerlink" href="#network-parameter-configuration" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat ~/tripleo-heat-templates/environments/contrail/contrail-net.yaml
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">resource_registry</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">OS::TripleO::Controller::Net::SoftwareConfig</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">../../network/config/contrail/controller-nic-config.yaml</span>
  <span class="l l-Scalar l-Scalar-Plain">OS::TripleO::ContrailController::Net::SoftwareConfig</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">../../network/config/contrail/contrail-controller-nic-config.yaml</span>
  <span class="l l-Scalar l-Scalar-Plain">OS::TripleO::ContrailControlOnly::Net::SoftwareConfig</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">../../network/config/contrail/contrail-controller-nic-config.yaml</span>
  <span class="l l-Scalar l-Scalar-Plain">OS::TripleO::Compute::Net::SoftwareConfig</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">../../network/config/contrail/compute-nic-config.yaml</span>
  <span class="l l-Scalar l-Scalar-Plain">OS::TripleO::ContrailDpdk::Net::SoftwareConfig</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">../../network/config/contrail/contrail-dpdk-nic-config.yaml</span>
  <span class="l l-Scalar l-Scalar-Plain">OS::TripleO::ContrailSriov::Net::SoftwareConfig</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">../../network/config/contrail/contrail-sriov-nic-config.yaml</span>
  <span class="l l-Scalar l-Scalar-Plain">OS::TripleO::ContrailTsn::Net::SoftwareConfig</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">../../network/config/contrail/contrail-tsn-nic-config.yaml</span>

<span class="l l-Scalar l-Scalar-Plain">parameter_defaults</span><span class="p p-Indicator">:</span>
  <span class="c1"># Customize all these values to match the local environment</span>
  <span class="l l-Scalar l-Scalar-Plain">TenantNetCidr</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10.0.0.0/24</span>
  <span class="l l-Scalar l-Scalar-Plain">InternalApiNetCidr</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10.1.0.0/24</span>
  <span class="l l-Scalar l-Scalar-Plain">ExternalNetCidr</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10.2.0.0/24</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageNetCidr</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10.3.0.0/24</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageMgmtNetCidr</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10.4.0.0/24</span>
  <span class="c1"># CIDR subnet mask length for provisioning network</span>
  <span class="l l-Scalar l-Scalar-Plain">ControlPlaneSubnetCidr</span><span class="p p-Indicator">:</span> <span class="s">&#39;24&#39;</span>
  <span class="c1"># Allocation pools</span>
  <span class="l l-Scalar l-Scalar-Plain">TenantAllocationPools</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[{</span><span class="s">&#39;start&#39;</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.0.0.10&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;end&#39;</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.0.0.200&#39;</span><span class="p p-Indicator">}]</span>
  <span class="l l-Scalar l-Scalar-Plain">InternalApiAllocationPools</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[{</span><span class="s">&#39;start&#39;</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.1.0.10&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;end&#39;</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.1.0.200&#39;</span><span class="p p-Indicator">}]</span>
  <span class="l l-Scalar l-Scalar-Plain">ExternalAllocationPools</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[{</span><span class="s">&#39;start&#39;</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.2.0.10&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;end&#39;</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.2.0.200&#39;</span><span class="p p-Indicator">}]</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageAllocationPools</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[{</span><span class="s">&#39;start&#39;</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.3.0.10&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;end&#39;</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.3.0.200&#39;</span><span class="p p-Indicator">}]</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageMgmtAllocationPools</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[{</span><span class="s">&#39;start&#39;</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.4.0.10&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;end&#39;</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.4.0.200&#39;</span><span class="p p-Indicator">}]</span>
  <span class="c1"># Routes</span>
  <span class="l l-Scalar l-Scalar-Plain">ControlPlaneDefaultRoute</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">192.168.24.1</span>
  <span class="l l-Scalar l-Scalar-Plain">InternalApiDefaultRoute</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10.1.0.1</span>
  <span class="l l-Scalar l-Scalar-Plain">ExternalInterfaceDefaultRoute</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10.2.0.1</span>
  <span class="c1"># Vlans</span>
  <span class="l l-Scalar l-Scalar-Plain">InternalApiNetworkVlanID</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">710</span>
  <span class="l l-Scalar l-Scalar-Plain">ExternalNetworkVlanID</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">720</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageNetworkVlanID</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">730</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageMgmtNetworkVlanID</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">740</span>
  <span class="l l-Scalar l-Scalar-Plain">TenantNetworkVlanID</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">3211</span>
  <span class="c1"># Services</span>
  <span class="l l-Scalar l-Scalar-Plain">EC2MetadataIp</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">192.168.24.1</span>  <span class="c1"># Generally the IP of the Undercloud</span>
  <span class="l l-Scalar l-Scalar-Plain">DnsServers</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;172.21.200.60&quot;</span><span class="p p-Indicator">]</span>
  <span class="l l-Scalar l-Scalar-Plain">NtpServer</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10.0.0.1</span>
</pre></div>
</div>
</div>
<div class="section" id="network-interface-configuration">
<h3><a class="toc-backref" href="#id17">Network interface configuration</a><a class="headerlink" href="#network-interface-configuration" title="Permalink to this headline">¶</a></h3>
<p>There are NIC configuration files per role.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/tripleo-heat-templates/network/config/contrail
</pre></div>
</div>
<div class="section" id="id1">
<h4><a class="toc-backref" href="#id18">OpenStack Controller</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">heat_template_version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">queens</span>

<span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">&gt;</span>
  <span class="no">Software Config to drive os-net-config to configure multiple interfaces</span>
  <span class="no">for the compute role. This is an example for a Nova compute node using</span>
  <span class="no">Contrail vrouter and the vhost0 interface.</span>

<span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">ControlPlaneIp</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the ctlplane network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ExternalIpSubnet</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the external network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">InternalApiIpSubnet</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the internal_api network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">InternalApiDefaultRoute</span><span class="p p-Indicator">:</span> <span class="c1"># Not used by default in this template</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.0.0.1&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The default route of the internal api network.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageIpSubnet</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the storage network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageMgmtIpSubnet</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the storage_mgmt network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">TenantIpSubnet</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the tenant network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ManagementIpSubnet</span><span class="p p-Indicator">:</span> <span class="c1"># Only populated when including environments/network-management.yaml</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the management network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ExternalNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the external network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">InternalApiNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">20</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the internal_api network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">30</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the storage network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageMgmtNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">40</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the storage mgmt network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">TenantNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">50</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the tenant network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">ManagementNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">60</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the management network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">ControlPlaneSubnetCidr</span><span class="p p-Indicator">:</span> <span class="c1"># Override this via parameter_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;24&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The subnet CIDR of the control plane network.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ControlPlaneDefaultRoute</span><span class="p p-Indicator">:</span> <span class="c1"># Override this via parameter_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The default route of the control plane network.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ExternalInterfaceDefaultRoute</span><span class="p p-Indicator">:</span> <span class="c1"># Not used by default in this template</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.0.0.1&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The default route of the external network.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ManagementInterfaceDefaultRoute</span><span class="p p-Indicator">:</span> <span class="c1"># Commented out by default in this template</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">unset</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The default route of the management network.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">DnsServers</span><span class="p p-Indicator">:</span> <span class="c1"># Override this via parameter_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[]</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">A list of DNS servers (2 max for some implementations) that will be added to resolv.conf.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">comma_delimited_list</span>
  <span class="l l-Scalar l-Scalar-Plain">EC2MetadataIp</span><span class="p p-Indicator">:</span> <span class="c1"># Override this via parameter_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The IP address of the EC2 metadata server.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>

<span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">OsNetConfigImpl</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Heat::SoftwareConfig</span>
    <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">group</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">script</span>
      <span class="l l-Scalar l-Scalar-Plain">config</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">str_replace</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">template</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">get_file</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">../../scripts/run-os-net-config.sh</span>
          <span class="l l-Scalar l-Scalar-Plain">params</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">$network_config</span><span class="p p-Indicator">:</span>
              <span class="l l-Scalar l-Scalar-Plain">network_config</span><span class="p p-Indicator">:</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">interface</span>
                <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">nic1</span>
                <span class="l l-Scalar l-Scalar-Plain">use_dhcp</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
                <span class="l l-Scalar l-Scalar-Plain">dns_servers</span><span class="p p-Indicator">:</span>
                  <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">DnsServers</span>
                <span class="l l-Scalar l-Scalar-Plain">addresses</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip_netmask</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">list_join</span><span class="p p-Indicator">:</span>
                      <span class="p p-Indicator">-</span> <span class="s">&#39;/&#39;</span>
                      <span class="p p-Indicator">-</span> <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ControlPlaneIp</span>
                        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ControlPlaneSubnetCidr</span>
                <span class="l l-Scalar l-Scalar-Plain">routes</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip_netmask</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">169.254.169.254/32</span>
                  <span class="l l-Scalar l-Scalar-Plain">next_hop</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">EC2MetadataIp</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
                  <span class="l l-Scalar l-Scalar-Plain">next_hop</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ControlPlaneDefaultRoute</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">vlan</span>
                <span class="l l-Scalar l-Scalar-Plain">vlan_id</span><span class="p p-Indicator">:</span>
                  <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">InternalApiNetworkVlanID</span>
                <span class="l l-Scalar l-Scalar-Plain">device</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">nic1</span>
                <span class="l l-Scalar l-Scalar-Plain">addresses</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip_netmask</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">InternalApiIpSubnet</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">vlan</span>
                <span class="l l-Scalar l-Scalar-Plain">vlan_id</span><span class="p p-Indicator">:</span>
                  <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ExternalNetworkVlanID</span>
                <span class="l l-Scalar l-Scalar-Plain">device</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">nic1</span>
                <span class="l l-Scalar l-Scalar-Plain">addresses</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip_netmask</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ExternalIpSubnet</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">vlan</span>
                <span class="l l-Scalar l-Scalar-Plain">vlan_id</span><span class="p p-Indicator">:</span>
                  <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">StorageNetworkVlanID</span>
                <span class="l l-Scalar l-Scalar-Plain">device</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">nic1</span>
                <span class="l l-Scalar l-Scalar-Plain">addresses</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip_netmask</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">StorageIpSubnet</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">vlan</span>
                <span class="l l-Scalar l-Scalar-Plain">vlan_id</span><span class="p p-Indicator">:</span>
                  <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">StorageMgmtNetworkVlanID</span>
                <span class="l l-Scalar l-Scalar-Plain">device</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">nic1</span>
                <span class="l l-Scalar l-Scalar-Plain">addresses</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip_netmask</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">StorageMgmtIpSubnet</span>

<span class="l l-Scalar l-Scalar-Plain">outputs</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">OS::stack_id</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The OsNetConfigImpl resource.</span>
    <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">get_resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OsNetConfigImpl</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h4><a class="toc-backref" href="#id19">Contrail Controller</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">heat_template_version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">queens</span>

<span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">&gt;</span>
  <span class="no">Software Config to drive os-net-config to configure multiple interfaces</span>
  <span class="no">for the compute role. This is an example for a Nova compute node using</span>
  <span class="no">Contrail vrouter and the vhost0 interface.</span>

<span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">ControlPlaneIp</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the ctlplane network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ExternalIpSubnet</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the external network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">InternalApiIpSubnet</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the internal_api network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">InternalApiDefaultRoute</span><span class="p p-Indicator">:</span> <span class="c1"># Not used by default in this template</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.0.0.1&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The default route of the internal api network.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageIpSubnet</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the storage network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageMgmtIpSubnet</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the storage_mgmt network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">TenantIpSubnet</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the tenant network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ManagementIpSubnet</span><span class="p p-Indicator">:</span> <span class="c1"># Only populated when including environments/network-management.yaml</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the management network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ExternalNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the external network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">InternalApiNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">20</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the internal_api network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">30</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the storage network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageMgmtNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">40</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the storage mgmt network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">TenantNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">50</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the tenant network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">ManagementNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">60</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the management network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">ControlPlaneSubnetCidr</span><span class="p p-Indicator">:</span> <span class="c1"># Override this via parameter_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;24&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The subnet CIDR of the control plane network.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ControlPlaneDefaultRoute</span><span class="p p-Indicator">:</span> <span class="c1"># Override this via parameter_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The default route of the control plane network.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ExternalInterfaceDefaultRoute</span><span class="p p-Indicator">:</span> <span class="c1"># Not used by default in this template</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.0.0.1&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The default route of the external network.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ManagementInterfaceDefaultRoute</span><span class="p p-Indicator">:</span> <span class="c1"># Commented out by default in this template</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">unset</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The default route of the management network.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">DnsServers</span><span class="p p-Indicator">:</span> <span class="c1"># Override this via parameter_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[]</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">A list of DNS servers (2 max for some implementations) that will be added to resolv.conf.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">comma_delimited_list</span>
  <span class="l l-Scalar l-Scalar-Plain">EC2MetadataIp</span><span class="p p-Indicator">:</span> <span class="c1"># Override this via parameter_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The IP address of the EC2 metadata server.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>

<span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">OsNetConfigImpl</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Heat::SoftwareConfig</span>
    <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">group</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">script</span>
      <span class="l l-Scalar l-Scalar-Plain">config</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">str_replace</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">template</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">get_file</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">../../scripts/run-os-net-config.sh</span>
          <span class="l l-Scalar l-Scalar-Plain">params</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">$network_config</span><span class="p p-Indicator">:</span>
              <span class="l l-Scalar l-Scalar-Plain">network_config</span><span class="p p-Indicator">:</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">interface</span>
                <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">nic1</span>
                <span class="l l-Scalar l-Scalar-Plain">use_dhcp</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
                <span class="l l-Scalar l-Scalar-Plain">dns_servers</span><span class="p p-Indicator">:</span>
                  <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">DnsServers</span>
                <span class="l l-Scalar l-Scalar-Plain">addresses</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip_netmask</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">list_join</span><span class="p p-Indicator">:</span>
                      <span class="p p-Indicator">-</span> <span class="s">&#39;/&#39;</span>
                      <span class="p p-Indicator">-</span> <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ControlPlaneIp</span>
                        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ControlPlaneSubnetCidr</span>
                <span class="l l-Scalar l-Scalar-Plain">routes</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip_netmask</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">169.254.169.254/32</span>
                  <span class="l l-Scalar l-Scalar-Plain">next_hop</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">EC2MetadataIp</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
                  <span class="l l-Scalar l-Scalar-Plain">next_hop</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ControlPlaneDefaultRoute</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">vlan</span>
                <span class="l l-Scalar l-Scalar-Plain">vlan_id</span><span class="p p-Indicator">:</span>
                  <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">InternalApiNetworkVlanID</span>
                <span class="l l-Scalar l-Scalar-Plain">device</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">nic1</span>
                <span class="l l-Scalar l-Scalar-Plain">addresses</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip_netmask</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">InternalApiIpSubnet</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">interface</span>
                <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">nic2</span>
                <span class="l l-Scalar l-Scalar-Plain">use_dhcp</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
                <span class="l l-Scalar l-Scalar-Plain">addresses</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip_netmask</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">TenantIpSubnet</span>

<span class="l l-Scalar l-Scalar-Plain">outputs</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">OS::stack_id</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The OsNetConfigImpl resource.</span>
    <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">get_resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OsNetConfigImpl</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h4><a class="toc-backref" href="#id20">Compute Node</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">heat_template_version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">queens</span>

<span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">&gt;</span>
  <span class="no">Software Config to drive os-net-config to configure multiple interfaces</span>
  <span class="no">for the compute role. This is an example for a Nova compute node using</span>
  <span class="no">Contrail vrouter and the vhost0 interface.</span>

<span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">ControlPlaneIp</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the ctlplane network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ExternalIpSubnet</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the external network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">InternalApiIpSubnet</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the internal_api network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">InternalApiDefaultRoute</span><span class="p p-Indicator">:</span> <span class="c1"># Not used by default in this template</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.0.0.1&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The default route of the internal api network.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageIpSubnet</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the storage network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageMgmtIpSubnet</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the storage_mgmt network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">TenantIpSubnet</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the tenant network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ManagementIpSubnet</span><span class="p p-Indicator">:</span> <span class="c1"># Only populated when including environments/network-management.yaml</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address/subnet on the management network</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ExternalNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the external network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">InternalApiNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">20</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the internal_api network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">30</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the storage network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">StorageMgmtNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">40</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the storage mgmt network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">TenantNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">50</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the tenant network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">ManagementNetworkVlanID</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">60</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vlan ID for the management network traffic.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
  <span class="l l-Scalar l-Scalar-Plain">ControlPlaneSubnetCidr</span><span class="p p-Indicator">:</span> <span class="c1"># Override this via parameter_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;24&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The subnet CIDR of the control plane network.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ControlPlaneDefaultRoute</span><span class="p p-Indicator">:</span> <span class="c1"># Override this via parameter_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The default route of the control plane network.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ExternalInterfaceDefaultRoute</span><span class="p p-Indicator">:</span> <span class="c1"># Not used by default in this template</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.0.0.1&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The default route of the external network.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">ManagementInterfaceDefaultRoute</span><span class="p p-Indicator">:</span> <span class="c1"># Commented out by default in this template</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">unset</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The default route of the management network.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="l l-Scalar l-Scalar-Plain">DnsServers</span><span class="p p-Indicator">:</span> <span class="c1"># Override this via parameter_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[]</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">A list of DNS servers (2 max for some implementations) that will be added to resolv.conf.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">comma_delimited_list</span>
  <span class="l l-Scalar l-Scalar-Plain">EC2MetadataIp</span><span class="p p-Indicator">:</span> <span class="c1"># Override this via parameter_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The IP address of the EC2 metadata server.</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>

<span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">OsNetConfigImpl</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Heat::SoftwareConfig</span>
    <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">group</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">script</span>
      <span class="l l-Scalar l-Scalar-Plain">config</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">str_replace</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">template</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">get_file</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">../../scripts/run-os-net-config.sh</span>
          <span class="l l-Scalar l-Scalar-Plain">params</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">$network_config</span><span class="p p-Indicator">:</span>
              <span class="l l-Scalar l-Scalar-Plain">network_config</span><span class="p p-Indicator">:</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">interface</span>
                <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">nic1</span>
                <span class="l l-Scalar l-Scalar-Plain">use_dhcp</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
                <span class="l l-Scalar l-Scalar-Plain">dns_servers</span><span class="p p-Indicator">:</span>
                  <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">DnsServers</span>
                <span class="l l-Scalar l-Scalar-Plain">addresses</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip_netmask</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">list_join</span><span class="p p-Indicator">:</span>
                      <span class="p p-Indicator">-</span> <span class="s">&#39;/&#39;</span>
                      <span class="p p-Indicator">-</span> <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ControlPlaneIp</span>
                        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ControlPlaneSubnetCidr</span>
                <span class="l l-Scalar l-Scalar-Plain">routes</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip_netmask</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">169.254.169.254/32</span>
                  <span class="l l-Scalar l-Scalar-Plain">next_hop</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">EC2MetadataIp</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
                  <span class="l l-Scalar l-Scalar-Plain">next_hop</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ControlPlaneDefaultRoute</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">vlan</span>
                <span class="l l-Scalar l-Scalar-Plain">vlan_id</span><span class="p p-Indicator">:</span>
                  <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">InternalApiNetworkVlanID</span>
                <span class="l l-Scalar l-Scalar-Plain">device</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">nic1</span>
                <span class="l l-Scalar l-Scalar-Plain">addresses</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip_netmask</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">InternalApiIpSubnet</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">vlan</span>
                <span class="l l-Scalar l-Scalar-Plain">vlan_id</span><span class="p p-Indicator">:</span>
                  <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">StorageNetworkVlanID</span>
                <span class="l l-Scalar l-Scalar-Plain">device</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">nic1</span>
                <span class="l l-Scalar l-Scalar-Plain">addresses</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip_netmask</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">StorageIpSubnet</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">contrail_vrouter</span>
                <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">vhost0</span>
                <span class="l l-Scalar l-Scalar-Plain">use_dhcp</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
                <span class="l l-Scalar l-Scalar-Plain">members</span><span class="p p-Indicator">:</span>
                  <span class="p p-Indicator">-</span>
                    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">interface</span>
                    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">nic2</span>
                    <span class="l l-Scalar l-Scalar-Plain">use_dhcp</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
                <span class="l l-Scalar l-Scalar-Plain">addresses</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip_netmask</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">TenantIpSubnet</span>

<span class="l l-Scalar l-Scalar-Plain">outputs</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">OS::stack_id</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The OsNetConfigImpl resource.</span>
    <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">get_resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OsNetConfigImpl</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="advanced-network-configuration">
<h3><a class="toc-backref" href="#id21">Advanced Network Configuration</a><a class="headerlink" href="#advanced-network-configuration" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="advanced/vrouter.html">Advanced vRouter Kernel Mode Configurations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="advanced/vrouter.html#nic-template-configurations">NIC template configurations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced/vrouter.html#vlan">VLAN</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced/vrouter.html#bond">Bond</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced/vrouter.html#bond-vlan">Bond + VLAN</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced/dpdk.html">Advanced vRouter DPDK Mode Configurations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="advanced/dpdk.html#network-envrionment-configuration">Network envrionment configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced/dpdk.html#nic-template-configurations">NIC template configurations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced/dpdk.html#standard">Standard</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced/dpdk.html#vlan">VLAN</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced/dpdk.html#bond">Bond</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced/dpdk.html#bond-vlan">Bond + VLAN</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced/sriov.html">Advanced vRouter SRIOV Mode Configurations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="advanced/sriov.html#network-environment-configuration">Network environment configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced/sriov.html#enable-the-number-of-hugepages">Enable the number of hugepages</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced/sriov.html#sriov-pf-vf-settings">SRIOV PF/VF settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="advanced/sriov.html#nic-template-configurations">NIC template configurations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced/sriov.html#vrouter-kernel-mode">vRouter kernel mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced/sriov.html#vrouter-dpdk-mode">vRouter DPDK mode</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="advanced-scenarios">
<h2><a class="toc-backref" href="#id22">Advanced scenarios</a><a class="headerlink" href="#advanced-scenarios" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="advanced/remotecompute.html">Remote Compute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="advanced/remotecompute.html#controlonly-preparation">ControlOnly preparation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced/remotecompute.html#add-controlonly-overcloud-vms-to-overcloud-kvm-host">Add ControlOnly Overcloud VMs to Overcloud KVM host</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced/remotecompute.html#import-controlonly-nodes-to-ironic">Import ControlOnly nodes to ironic</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced/remotecompute.html#controlonly-node-introspection">ControlOnly node introspection</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced/remotecompute.html#controlonly-node-flavor-creation">ControlOnly node flavor creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced/remotecompute.html#static-ip-assignment">Static IP assignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced/remotecompute.html#create-subcluser-nodedata">Create subcluser nodedata</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced/remotecompute.html#deployment">Deployment</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Templates</a><ul>
<li><a class="reference internal" href="#contrail-services-customization">Contrail Services customization</a></li>
<li><a class="reference internal" href="#contrail-registry-settings">Contrail registry settings</a></li>
<li><a class="reference internal" href="#contrail-container-image-settings">Contrail container image settings</a></li>
<li><a class="reference internal" href="#network-customization">Network customization</a><ul>
<li><a class="reference internal" href="#network-activation-in-roles-data">Network activation in roles_data</a><ul>
<li><a class="reference internal" href="#openstack-controller">OpenStack Controller</a></li>
<li><a class="reference internal" href="#compute-node">Compute Node</a></li>
<li><a class="reference internal" href="#contrail-controller">Contrail Controller</a></li>
<li><a class="reference internal" href="#compute-dpdk">Compute DPDK</a></li>
<li><a class="reference internal" href="#compute-sriov">Compute SRIOV</a></li>
<li><a class="reference internal" href="#compute-csn">Compute CSN</a></li>
</ul>
</li>
<li><a class="reference internal" href="#network-parameter-configuration">Network parameter configuration</a></li>
<li><a class="reference internal" href="#network-interface-configuration">Network interface configuration</a><ul>
<li><a class="reference internal" href="#id1">OpenStack Controller</a></li>
<li><a class="reference internal" href="#id2">Contrail Controller</a></li>
<li><a class="reference internal" href="#id3">Compute Node</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-network-configuration">Advanced Network Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-scenarios">Advanced scenarios</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="configuration.html" title="previous chapter">Configuration</a></li>
      <li>Next: <a href="advanced/vrouter.html" title="next chapter">Advanced vRouter Kernel Mode Configurations</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/overcloud/templates.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Michael Henkel.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="../_sources/overcloud/templates.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>